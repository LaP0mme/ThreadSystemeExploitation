package org.example;

import java.util.*;
import java.util.Random;

public class Consommateur extends Thread {
    Stack<String> produits;

    public Consommateur(Stack<String> produits) {
        this.produits = produits;
    }

    @Override
    public void run() {

        while (true) {
            synchronized (produits) {
                if (!produits.isEmpty()) {

                    int last = produits.size() - 1;
                    String produit = produits.get(last);
                    System.out.println(getName() + " tente d'enlever le produit : " + produit);
                    produits.pop();
                    System.out.println(getName() + " a enlev√© le produit : " + produit);

                }

            }
            try {
                sleep(new Random().nextLong(5001));
            } catch (InterruptedException e) {
            }
            ;
            System.out.println(getName() + " est en attente de nouveau produits");
        }
    }
}



